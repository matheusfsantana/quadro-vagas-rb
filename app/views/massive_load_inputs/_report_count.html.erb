<div id="report_<%= massive_load_input.id %>" class="bg-white shadow-lg rounded-lg p-6 max-w-2xl mb-3">
  <h1 class="text-xl font-semibold text-gray-800">Progresso</h1>
  <p class="text-gray-600 text-lg mb-4">
    <span class="font-bold"><%= massive_load_input.massive_load_report.last&.row_number || 0 %></span> /
    <span class="font-bold"><%= massive_load_input.total_rows %></span>
  </p>

  <div class="grid gap-6">
    <div class="bg-blue-100 p-4 rounded-lg">
      <h2 class="text-lg font-semibold text-blue-800">Usuários</h2>
      <p class="text-blue-700">
        <span class="font-semibold"><%= massive_load_input.massive_load_report.user.success.count %></span> Sucessos 
      </p>
    </div>

    <div class="bg-green-100 p-4 rounded-lg">
      <h2 class="text-lg font-semibold text-green-800">Empresas</h2>
      <p class="text-green-700">
        <span class="font-semibold"><%= massive_load_input.massive_load_report.company.success.count %></span> Sucessos
      </p>
    </div>

    <div class="bg-yellow-100 p-4 rounded-lg">
      <h2 class="text-lg font-semibold text-yellow-800">Vagas</h2>
      <p class="text-yellow-700">
        <span class="font-semibold"><%= massive_load_input.massive_load_report.job.success.count %></span> Sucessos
      </p>
    </div>

    <div class="bg-red-100 p-4 rounded-lg">
      <h2 class="text-lg font-semibold text-red-800">Falhas</h2>
      <p class="text-red-700">
        <span class="font-semibold"><%= massive_load_input.massive_load_report.fail.count %></span> Falhas 
      </p>
    </div>
  </div>

  <% if massive_load_input.processed? && massive_load_input.massive_load_report.fail.count > 0 %>
    <div class="mt-6">
      <%= button_to download_report_massive_load_input_path(massive_load_input, format: :txt), 
          method: :get, 
          class: "flex items-center bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded shadow-lg" do %>
        <svg class="fill-current w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
          <path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"/>
        </svg>
        <span>Baixar Relatório</span>
      <% end %>
    </div>
  <% end %>

  <% if massive_load_input.failed? %>
    <div class="mt-6 p-4 bg-red-100 text-red-700 font-semibold rounded-lg">
      Algum erro aconteceu, entre em contato com o responsável do sistema.
    </div>
  <% end %>
</div>
